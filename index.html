<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="An informative site about ants, created by kaspar poland."
    />
    <script>
      const develop = false;
      let handling = false;

      async function handleNewAnt() {
        const form = document.getElementById("form");
        const thanksText = document.createElement("div");
        form.appendChild(thanksText);

        const input = document.getElementById("new-ant");
        if (!handling) {
          if (!isValid(input.value)) {
            thanksText.innerText = "invalid suggestion!";
          } else {
            let counter = 0;
            const dotInterval = setInterval(() => {
              thanksText.innerText = ".".repeat(counter % 5);
              counter++;
            }, 100);

            // Send the request
            const url = develop
              ? "http://localhost:3000"
              : "https://www.kasparpoland.com";

            await fetch(`${url}/api/new-ant`, {
              method: "POST",
              body: input.value,
            })
              .then((response) => {
                clearInterval(dotInterval);
                if (response.status === 200) {
                  thanksText.innerText = "thanks!";
                }
              })
              .catch((error) => {
                console.log(error);
                clearInterval(dotInterval);
                thanksText.innerText =
                  "error encountered, suggestion not processed!";
              });
          }

          // Make text appear and clear input
          handling = true;
          input.value = "";
          setTimeout(() => {
            form.removeChild(thanksText);
            handling = false;
          }, 2000);
        }
      }

      function isValid(text) {
        if (text.length > 2 && text.length < 20) {
          return true;
        }

        return false;
      }
    </script>
    <title>types of ants</title>
  </head>
  <body>
    <h1>types of ants</h1>
    <div
      id="form"
      style="display: flex; flex-direction: row; margin-bottom: 15px"
    >
      <div style="margin-right: 5px">have new ant suggestion?</div>
      <input id="new-ant" />
      <div style="margin-left: 5px">ant</div>
      <button
        onclick="handleNewAnt();"
        style="margin-left: 10px; margin-right: 10px"
      >
        submit ant suggestion
      </button>
    </div>
    <div id="ant-filler" style="column-count: 4">
      <div>red ant</div>
      <div>black ant</div>
      <div>green ant</div>
      <div>blue ant</div>
      <div>yellow ant</div>
      <div>orange ant</div>
      <div>teal ant</div>
      <div>cyan ant</div>
      <div>light purple ant</div>
      <div>royal purple ant</div>
      <div>lime green ant</div>
      <div>slate gray ant</div>
      <div>platinum blond ant</div>
      <div>space gray ant</div>
      <div>forest green ant</div>
      <div>navy blue ant</div>
      <div>indigo ant</div>
      <div>rainbow ant</div>
      <div>cranberry picker ant</div>
      <div>gold ant</div>
      <div>silver ant</div>
      <div>bronze ant</div>
      <div>rouge ant</div>
      <div>crimson ant</div>
      <div>seafoam green ant</div>
      <div>sunset orange ant</div>
      <div>brown ant</div>
      <div>wet ant</div>
      <div>dead ant</div>
      <div>pale yellow ant</div>
      <div>white ant</div>
      <div>light blue ant</div>
      <div>home builder ant</div>
      <div>dark gray ant</div>
      <div>light gray ant</div>
      <div>mint green ant</div>
      <div>ant that's built different</div>
      <div>violet ant</div>
      <div>eggshell ant</div>
      <div>salmon ant</div>
      <div>maroon ant</div>
      <div>clear ant</div>
      <div>pink ant</div>
      <div>hot pink ant</div>
      <div>coral ant</div>
      <div>pope ant</div>
      <div>broad shouldered ant</div>
      <div>cream ant</div>
      <div>orchid ant</div>
      <div>tomato ant</div>
      <div>lilac ant</div>
      <div>turquoise ant</div>
      <div>titanium white ant</div>
      <div>cadmium yellow ant</div>
      <div>really cute ant</div>
      <div>vermillion ant</div>
      <div>ants you can't see</div>
      <div>flesh colored ant</div>
      <div>ghost ant</div>
      <div>olive ant</div>
      <div>sky blue ant</div>
      <div>aquamarine ant</div>
      <div>azure ant</div>
      <div>peach ant</div>
      <div>prussian blue ant</div>
      <div>scarlet ant</div>
      <div>african ant</div>
      <div>azerbaijani ant</div>
      <div>austrian ant</div>
      <div>apache ant</div>
      <div>australian ant</div>
      <div>east asian ant</div>
      <div>siberian ant</div>
      <div>arabian ant</div>
      <div>eastern steppes ant</div>
      <div>belarusian ant</div>
      <div>french ant</div>
      <div>swedish ant</div>
      <div>inuit ant</div>
      <div>aztec ant</div>
      <div>small ant</div>
      <div>olmec ant</div>
      <div>mexican ant</div>
      <div>imperialist ant</div>
      <div>rhino ant</div>
      <div>bantu ant</div>
      <div>mayan ant</div>
      <div>missourian ant</div>
      <div>sioux ant</div>
      <div>southern ant</div>
      <div>bullet ant</div>
      <div>samoan ant</div>
      <div>polynesian ant</div>
      <div>artist ant</div>
      <div>scottish ant</div>
      <div>ant but its a fish</div>
      <div>slovak ant</div>
      <div>slavic ant</div>
      <div>polish ant</div>
      <div>hedgehog ant</div>
      <div>tibetan ant</div>
      <div>old ant</div>
      <div>baby ant</div>
      <div>middle aged ant</div>
      <div>antarctican ant</div>
      <div>cold ant</div>
      <div>hot ant</div>
      <div>musician ant</div>
      <div>ugly ant</div>
      <div>female ant</div>
      <div>male ant</div>
      <div>ant but its a bee</div>
      <div>engineer ant</div>
      <div>politician ant</div>
      <div>skinny ant</div>
      <div>really fat ant</div>
      <div>ant but its on fire</div>
      <div>mathematician ant</div>
      <div>plumber ant</div>
      <div>teacher ant</div>
      <div>student ant</div>
      <div>child ant</div>
      <div>parent ant</div>
      <div>grandparent ant</div>
      <div>historian ant</div>
      <div>academic ant</div>
      <div>rich ant</div>
      <div>poor ant</div>
      <div>nice ant</div>
      <div>ant but its underwater</div>
      <div>beautiful ant</div>
      <div>queen ant</div>
      <div>ant in a band</div>
      <div>ant on a bus</div>
      <div>ant but its a bus</div>
      <div>anteatereater ant</div>
      <div>canadian ant</div>
      <div>american ant</div>
      <div>aunt</div>
    </div>
  </body>
</html>
